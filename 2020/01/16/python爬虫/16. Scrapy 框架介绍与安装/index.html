
<!DOCTYPE html>
<html lang="en" class="loading">
<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>16. Scrapy 框架介绍与安装 - Hexo</title>
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="google" content="notranslate" />
    <meta name="keywords" content="Fechin,"> 
    <meta name="description" content="
1. Scrapy 框架介绍
Scrapy是Python开发的一个快速,高层次的屏幕抓取和web抓取框架，用于抓取web站点并从页面中提取结构化的数据。Scrapy = Scrach+Python,"> 
    <meta name="author" content="Jin Nian"> 
    <link rel="alternative" href="atom.xml" title="Hexo" type="application/atom+xml"> 
    <link rel="icon" href="/img/favicon.png"> 
    
<link rel="stylesheet" href="//cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css">

    
<link rel="stylesheet" href="/css/diaspora.css">

	<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <script>
         (adsbygoogle = window.adsbygoogle || []).push({
              google_ad_client: "ca-pub-8691406134231910",
              enable_page_level_ads: true
         });
    </script>
    <script async custom-element="amp-auto-ads"
        src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
    </script>
<meta name="generator" content="Hexo 4.2.0"></head>

<body class="loading">
    <span id="config-title" style="display:none">Hexo</span>
    <div id="loader"></div>
    <div id="single">
    <div id="top" style="display: block;">
    <div class="bar" style="width: 0;"></div>
    <a class="iconfont icon-home image-icon" href="javascript:;" data-url="https://github.com/Ana-behibak/Ana-behibak.github.io"></a>
    <div title="播放/暂停" class="iconfont icon-play"></div>
    <h3 class="subtitle">16. Scrapy 框架介绍与安装</h3>
    <div class="social">
        <div>
            <div class="share">
                <a title="获取二维码" class="iconfont icon-scan" href="javascript:;"></a>
            </div>
            <div id="qr"></div>
        </div>
    </div>
    <div class="scrollbar"></div>
</div>

    <div class="section">
        <div class="article">
    <div class='main'>
        <h1 class="title">16. Scrapy 框架介绍与安装</h1>
        <div class="stuff">
            <span>一月 16, 2020</span>
            
  <ul class="post-tags-list" itemprop="keywords"><li class="post-tags-list-item"><a class="post-tags-list-link" href="/tags/python/" rel="tag">python</a></li><li class="post-tags-list-item"><a class="post-tags-list-link" href="/tags/%E7%88%AC%E8%99%AB/" rel="tag">爬虫</a></li></ul>


        </div>
        <div class="content markdown">
            <p><img src="https://note.youdao.com/yws/api/personal/file/3B46CE1A83254E4ABC7CCBC6DA7F8838?method=download&shareKey=2bba5f9fd137f02bc237bfca800e603a" alt="image"></p>
<h3 id="1-Scrapy-框架介绍"><a href="#1-Scrapy-框架介绍" class="headerlink" title="1. Scrapy 框架介绍"></a>1. Scrapy 框架介绍</h3><ul>
<li><p>Scrapy是Python开发的一个快速,高层次的屏幕抓取和web抓取框架，用于抓取web站点并从页面中提取结构化的数据。Scrapy = Scrach+Python</p>
</li>
<li><p>Scrapy用途广泛，可以用于数据挖掘、监测和自动化测试、信息处理和历史档案等大量应用范围内抽取结构化数据的应用程序框架，广泛用于工业</p>
</li>
<li><p>Scrapy 使用Twisted 这个异步网络库来处理网络通讯，架构清晰，并且包含了各种中间件接口，可以灵活的完成各种需求。Scrapy是由Twisted写的一个受欢迎的Python事件驱动网络框架，它使用的是非堵塞的异步处理</p>
<h4 id="1-1-为什么要使用Scrapy？"><a href="#1-1-为什么要使用Scrapy？" class="headerlink" title="1.1 为什么要使用Scrapy？"></a>1.1 为什么要使用Scrapy？</h4></li>
<li><p>它更容易构建和大规模的抓取项目</p>
</li>
<li><p>它内置的机制被称为选择器，用于从网站（网页）上提取数据</p>
</li>
<li><p>它异步处理请求，速度十分快</p>
</li>
<li><p>它可以使用自动调节机制自动调整爬行速度</p>
</li>
<li><p>确保开发人员可访问性</p>
<h4 id="1-2-Scrapy的特点"><a href="#1-2-Scrapy的特点" class="headerlink" title="1.2 Scrapy的特点"></a>1.2 Scrapy的特点</h4></li>
<li><p>Scrapy是一个开源和免费使用的网络爬虫框架</p>
</li>
<li><p>Scrapy生成格式导出如：JSON，CSV和XML</p>
</li>
<li><p>Scrapy内置支持从源代码，使用XPath或CSS表达式的选择器来提取数据</p>
</li>
<li><p>Scrapy基于爬虫，允许以自动方式从网页中提取数据</p>
</li>
</ul>
<h4 id="1-3-Scrapy的优点"><a href="#1-3-Scrapy的优点" class="headerlink" title="1.3 Scrapy的优点"></a>1.3 Scrapy的优点</h4><ul>
<li>Scrapy很容易扩展，快速和功能强大；</li>
<li>这是一个跨平台应用程序框架（在Windows，Linux，Mac OS和BSD）。</li>
<li>Scrapy请求调度和异步处理；</li>
<li>Scrapy附带了一个名为Scrapyd的内置服务，它允许使用JSON Web服务上传项目和控制蜘蛛。</li>
<li>也能够刮削任何网站，即使该网站不具有原始数据访问API；<h4 id="1-4-整体架构大致如下"><a href="#1-4-整体架构大致如下" class="headerlink" title="1.4 整体架构大致如下:"></a>1.4 整体架构大致如下:</h4><img src="/images/scrapy%E6%A1%86%E6%9E%B6%E5%9B%BE.png" alt="image"></li>
</ul>
<blockquote>
<p>最简单的单个网页爬取流程是spiders &gt; scheduler &gt; downloader &gt; spiders &gt; item pipeline</p>
</blockquote>
<h4 id="1-5-Scrapy运行流程大概如下："><a href="#1-5-Scrapy运行流程大概如下：" class="headerlink" title="1.5 Scrapy运行流程大概如下："></a>1.5 Scrapy运行流程大概如下：</h4><ol>
<li>引擎从调度器中取出一个链接(URL)用于接下来的抓取</li>
<li>引擎把URL封装成一个请求(Request)传给下载器</li>
<li>下载器把资源下载下来，并封装成应答包(Response)</li>
<li>爬虫解析Response</li>
<li>解析出实体（Item）,则交给实体管道进行进一步的处理</li>
<li>解析出的是链接（URL）,则把URL交给调度器等待抓取</li>
</ol>
<h4 id="1-6-Scrapy主要包括了以下组件："><a href="#1-6-Scrapy主要包括了以下组件：" class="headerlink" title="1.6 Scrapy主要包括了以下组件："></a>1.6 Scrapy主要包括了以下组件：</h4><ul>
<li>引擎(Scrapy)<ul>
<li>用来处理整个系统的数据流处理, 触发事务(框架核心)</li>
</ul>
</li>
<li>调度器(Scheduler)<ul>
<li>用来接受引擎发过来的请求, 压入队列中, 并在引擎再次请求的时候返回. 可以想像成一个URL（抓取网页的网址或者说是链接）的优先队列, 由它来决定下一个要抓取的网址是什么, 同时去除重复的网址</li>
</ul>
</li>
<li>下载器(Downloader)<ul>
<li>用于下载网页内容, 并将网页内容返回给蜘蛛(Scrapy下载器是建立在twisted这个高效的异步模型上的)</li>
</ul>
</li>
<li>爬虫(Spiders)<ul>
<li>爬虫是主要干活的, 用于从特定的网页中提取自己需要的信息, 即所谓的实体(Item)。用户也可以从中提取出链接,让Scrapy继续抓取下一个页面</li>
</ul>
</li>
<li>项目管道(Pipeline)<ul>
<li>负责处理爬虫从网页中抽取的实体，主要的功能是持久化实体、验证实体的有效性、清除不需要的信息。当页面被爬虫解析后，将被发送到项目管道，并经过几个特定的次序处理数据。</li>
</ul>
</li>
<li>下载器中间件(Downloader Middlewares)<ul>
<li>位于Scrapy引擎和下载器之间的框架，主要是处理Scrapy引擎与下载器之间的请求及响应</li>
</ul>
</li>
<li>爬虫中间件(Spider Middlewares)<ul>
<li>介于Scrapy引擎和爬虫之间的框架，主要工作是处理蜘蛛的响应输入和请求输出</li>
</ul>
</li>
<li>调度中间件(Scheduler Middewares)<ul>
<li>介于Scrapy引擎和调度之间的中间件，从Scrapy引擎发送到调度的请求和响应<h3 id="2-安装"><a href="#2-安装" class="headerlink" title="2 安装"></a>2 安装</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install Scrapy</span><br></pre></td></tr></table></figure>
注：windows平台需要依赖pywin32<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ModuleNotFoundError: No module named &#39;win32api&#39;</span><br></pre></td></tr></table></figure>
<code>pip install pypiwin32</code></li>
</ul>
</li>
</ul>

            <!--[if lt IE 9]><script>document.createElement('audio');</script><![endif]-->
            <audio id="audio" loop="1" preload="auto" controls="controls" data-autoplay="false">
                <source type="audio/mpeg" src="">
            </audio>
            
                <ul id="audio-list" style="display:none">
                    
                        
                            <li title='0' data-url='http://link.hhtjim.com/163/425570952.mp3'></li>
                        
                    
                        
                            <li title='1' data-url='http://link.hhtjim.com/163/425570952.mp3'></li>
                        
                    
                </ul>
            
        </div>
        
    <div id='gitalk-container' class="comment link"
		data-enable='true'
        data-ae='false'
        data-ci=''
        data-cs=''
        data-r=''
        data-o=''
        data-a=''
        data-d='false'
    >查看评论</div>


    </div>
    
        <div class='side'>
			<ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-Scrapy-框架介绍"><span class="toc-number">1.</span> <span class="toc-text">1. Scrapy 框架介绍</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-1-为什么要使用Scrapy？"><span class="toc-number">1.1.</span> <span class="toc-text">1.1 为什么要使用Scrapy？</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-2-Scrapy的特点"><span class="toc-number">1.2.</span> <span class="toc-text">1.2 Scrapy的特点</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-3-Scrapy的优点"><span class="toc-number">1.3.</span> <span class="toc-text">1.3 Scrapy的优点</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-4-整体架构大致如下"><span class="toc-number">1.4.</span> <span class="toc-text">1.4 整体架构大致如下:</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-5-Scrapy运行流程大概如下："><span class="toc-number">1.5.</span> <span class="toc-text">1.5 Scrapy运行流程大概如下：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-6-Scrapy主要包括了以下组件："><span class="toc-number">1.6.</span> <span class="toc-text">1.6 Scrapy主要包括了以下组件：</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-安装"><span class="toc-number">2.</span> <span class="toc-text">2 安装</span></a></li></ol>	
        </div>
    
</div>


    </div>
</div>
</body>

<script src="//cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js"></script>


<script src="//lib.baomitu.com/jquery/1.8.3/jquery.min.js"></script>
<script src="/js/plugin.js"></script>
<script src="/js/typed.js"></script>
<script src="/js/diaspora.js"></script>


<link rel="stylesheet" href="/photoswipe/photoswipe.css">
<link rel="stylesheet" href="/photoswipe/default-skin/default-skin.css">


<script src="/photoswipe/photoswipe.min.js"></script>
<script src="/photoswipe/photoswipe-ui-default.min.js"></script>


<!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">
    <!-- Background of PhotoSwipe. 
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>
    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">
        <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>
        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">
            <div class="pswp__top-bar">
                <!--  Controls are self-explanatory. Order can be changed. -->
                <div class="pswp__counter"></div>
                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
                <button class="pswp__button pswp__button--share" title="Share"></button>
                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
                <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                      <div class="pswp__preloader__cut">
                        <div class="pswp__preloader__donut"></div>
                      </div>
                    </div>
                </div>
            </div>
            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div> 
            </div>
            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>
            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>
            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>
        </div>
    </div>
</div>






</html>
