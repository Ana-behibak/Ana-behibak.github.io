
<!DOCTYPE html>
<html lang="en" class="loading">
<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>13. Selenium与PhantomJS - Hexo</title>
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="google" content="notranslate" />
    <meta name="keywords" content="Fechin,"> 
    <meta name="description" content="1. SeleniumSelenium是一个Web的自动化测试工具，最初是为网站自动化测试而开发的，类型像我们玩游戏用的按键精灵，可以按指定的命令自动操作，不同是Selenium 可以直接运行在浏览,"> 
    <meta name="author" content="Jin Nian"> 
    <link rel="alternative" href="atom.xml" title="Hexo" type="application/atom+xml"> 
    <link rel="icon" href="/img/favicon.png"> 
    
<link rel="stylesheet" href="//cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css">

    
<link rel="stylesheet" href="/css/diaspora.css">

	<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <script>
         (adsbygoogle = window.adsbygoogle || []).push({
              google_ad_client: "ca-pub-8691406134231910",
              enable_page_level_ads: true
         });
    </script>
    <script async custom-element="amp-auto-ads"
        src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
    </script>
<meta name="generator" content="Hexo 4.2.0"></head>

<body class="loading">
    <span id="config-title" style="display:none">Hexo</span>
    <div id="loader"></div>
    <div id="single">
    <div id="top" style="display: block;">
    <div class="bar" style="width: 0;"></div>
    <a class="iconfont icon-home image-icon" href="javascript:;" data-url="https://github.com/Ana-behibak/Ana-behibak.github.io"></a>
    <div title="播放/暂停" class="iconfont icon-play"></div>
    <h3 class="subtitle">13. Selenium与PhantomJS</h3>
    <div class="social">
        <div>
            <div class="share">
                <a title="获取二维码" class="iconfont icon-scan" href="javascript:;"></a>
            </div>
            <div id="qr"></div>
        </div>
    </div>
    <div class="scrollbar"></div>
</div>

    <div class="section">
        <div class="article">
    <div class='main'>
        <h1 class="title">13. Selenium与PhantomJS</h1>
        <div class="stuff">
            <span>五月 06, 2020</span>
            
  <ul class="post-tags-list" itemprop="keywords"><li class="post-tags-list-item"><a class="post-tags-list-link" href="/tags/python/" rel="tag">python</a></li><li class="post-tags-list-item"><a class="post-tags-list-link" href="/tags/%E7%88%AC%E8%99%AB/" rel="tag">爬虫</a></li></ul>


        </div>
        <div class="content markdown">
            <h3 id="1-Selenium"><a href="#1-Selenium" class="headerlink" title="1. Selenium"></a>1. Selenium</h3><p>Selenium是一个Web的自动化测试工具，最初是为网站自动化测试而开发的，类型像我们玩游戏用的按键精灵，可以按指定的命令自动操作，不同是Selenium 可以直接运行在浏览器上，它支持所有主流的浏览器（包括PhantomJS这些无界面的浏览器）。</p>
<p>Selenium 可以根据我们的指令，让浏览器自动加载页面，获取需要的数据，甚至页面截屏，或者判断网站上某些动作是否发生。</p>
<p>Selenium 自己不带浏览器，不支持浏览器的功能，它需要与第三方浏览器结合在一起才能使用。但是我们有时候需要让它内嵌在代码中运行，所以我们可以用一个叫 PhantomJS 的工具代替真实的浏览器。</p>
<p>PyPI网站下载 Selenium库 <a href="https://pypi.python.org/simple/selenium" target="_blank" rel="noopener">https://pypi.python.org/simple/selenium</a> ，也可以用 第三方管理器 </p>
<p>pip用命令安装：<code>pip install selenium</code></p>
<p>Selenium 官方参考文档：<a href="http://selenium-python.readthedocs.io/index.html" target="_blank" rel="noopener">http://selenium-python.readthedocs.io/index.html</a></p>
<h3 id="2-PhantomJS"><a href="#2-PhantomJS" class="headerlink" title="2. PhantomJS"></a>2. PhantomJS</h3><p>PhantomJS 是一个基于Webkit的“无界面”(headless)浏览器，它会把网站加载到内存并执行页面上的 JavaScript，因为不会展示图形界面，所以运行起来比完整的浏览器要高效</p>
<p>如果我们把 Selenium 和 PhantomJS 结合在一起，就可以运行一个非常强大的网络爬虫了，这个爬虫可以处理 JavaScrip、Cookie、headers，以及任何我们真实用户需要做的事情</p>
<h4 id="2-1注意：PhantomJS（python2）"><a href="#2-1注意：PhantomJS（python2）" class="headerlink" title="2.1注意：PhantomJS（python2）"></a>2.1注意：PhantomJS（python2）</h4><p>只能从它的官方网站<a href="http://phantomjs.org/download.html" target="_blank" rel="noopener">http://phantomjs.org/download.html</a>) 下载。 因为 PhantomJS 是一个功能完善(虽然无界面)的浏览器而非一个 Python 库，所以它不需要像 Python 的其他库一样安装，但我们可以通过Selenium调用PhantomJS来直接使用。</p>
<p>PhantomJS 官方参考文档：<a href="http://phantomjs.org/documentation" target="_blank" rel="noopener">http://phantomjs.org/documentation</a></p>
<h4 id="2-2-python3使用的浏览器"><a href="#2-2-python3使用的浏览器" class="headerlink" title="2.2 python3使用的浏览器"></a>2.2 python3使用的浏览器</h4><p>随着Python3的普及，Selenium3也跟上了行程。而Selenium3最大的变化是去掉了Selenium RC，另外就是Webdriver从各自浏览器中脱离，必须单独下载</p>
<h5 id="2-1-1-安装Firefox-geckodriver"><a href="#2-1-1-安装Firefox-geckodriver" class="headerlink" title="2.1.1 安装Firefox geckodriver"></a>2.1.1 安装Firefox geckodriver</h5><p>安装firefox最新版本，添加Firefox可执行程序到系统环境变量。记得关闭firefox的自动更新</p>
<p>firefox下载地下：<a href="https://github.com/mozilla/geckodriver/releases">https://github.com/mozilla/geckodriver/releases</a></p>
<p>将下载的geckodriver.exe 放到path路径下 D:\Python\Python36\</p>
<h5 id="2-1-2-安装ChromeDriver"><a href="#2-1-2-安装ChromeDriver" class="headerlink" title="2.1.2 安装ChromeDriver"></a>2.1.2 安装ChromeDriver</h5><p><a href="http://chromedriver.storage.googleapis.com/index.html" target="_blank" rel="noopener">http://chromedriver.storage.googleapis.com/index.html</a></p>
<blockquote>
<p>注意版本号要对应</p>
</blockquote>
<blockquote>
<p>下载下来的文件解压到<code>Python36\Scripts</code></p>
</blockquote>
<blockquote>
<p>chrome59版本以后可以变成无头的浏览器，加以下参数</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">options &#x3D; webdriver.ChromeOptions()</span><br><span class="line">options.add_argument(&#39;--headless&#39;)</span><br><span class="line">chrome &#x3D; webdriver.Chrome(chrome_options&#x3D;options)</span><br><span class="line">chrome.get(&quot;http:&#x2F;&#x2F;ww.baidu.com&quot;)</span><br></pre></td></tr></table></figure>
<h3 id="3-使用方式"><a href="#3-使用方式" class="headerlink" title="3. 使用方式"></a>3. 使用方式</h3><p>Selenium 库里有个叫 WebDriver 的 API。WebDriver 有点儿像可以加载网站的浏览器，但是它也可以像 BeautifulSoup 或者其他 Selector 对象一样用来查找页面元素，与页面上的元素进行交互 (发送文本、点击等)，以及执行其他动作来运行网络爬虫</p>
<h4 id="3-1-简单例子"><a href="#3-1-简单例子" class="headerlink" title="3.1 简单例子"></a>3.1 简单例子</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line"># 导入 webdriver</span><br><span class="line">from selenium import webdriver</span><br><span class="line"></span><br><span class="line"># 要想调用键盘按键操作需要引入keys包</span><br><span class="line">from selenium.webdriver.common.keys import Keys</span><br><span class="line"></span><br><span class="line"># 调用环境变量指定的PhantomJS浏览器创建浏览器对象</span><br><span class="line">driver &#x3D; webdriver.PhantomJS()</span><br><span class="line"></span><br><span class="line"># 如果没有在环境变量指定PhantomJS位置</span><br><span class="line"># driver &#x3D; webdriver.PhantomJS(executable_path&#x3D;&quot;.&#x2F;phantomjs&quot;))</span><br><span class="line"></span><br><span class="line"># get方法会一直等到页面被完全加载，然后才会继续程序，通常测试会在这里选择 time.sleep(2)</span><br><span class="line">driver.get(&quot;http:&#x2F;&#x2F;www.baidu.com&#x2F;&quot;)</span><br><span class="line"></span><br><span class="line"># 获取页面名为 wrapper的id标签的文本内容</span><br><span class="line">data &#x3D; driver.find_element_by_id(&quot;wrapper&quot;).text</span><br><span class="line"></span><br><span class="line"># 打印数据内容</span><br><span class="line">print(data)</span><br><span class="line"></span><br><span class="line"># 打印页面标题 &quot;百度一下，你就知道&quot;</span><br><span class="line">print（driver.title）</span><br><span class="line"></span><br><span class="line"># 生成当前页面快照并保存</span><br><span class="line">driver.save_screenshot(&quot;baidu.png&quot;)</span><br><span class="line"></span><br><span class="line"># id&#x3D;&quot;kw&quot;是百度搜索输入框，输入字符串&quot;长城&quot;</span><br><span class="line">driver.find_element_by_id(&quot;kw&quot;).send_keys(&quot;尚学堂&quot;)</span><br><span class="line"></span><br><span class="line"># id&#x3D;&quot;su&quot;是百度搜索按钮，click() 是模拟点击</span><br><span class="line">driver.find_element_by_id(&quot;su&quot;).click()</span><br><span class="line"></span><br><span class="line"># 获取新的页面快照</span><br><span class="line">driver.save_screenshot(&quot;尚学.png&quot;)</span><br><span class="line"></span><br><span class="line"># 打印网页渲染后的源代码</span><br><span class="line">print(driver.page_source)</span><br><span class="line"></span><br><span class="line"># 获取当前页面Cookie</span><br><span class="line">print(driver.get_cookies())</span><br><span class="line"></span><br><span class="line"># ctrl+a 全选输入框内容</span><br><span class="line">driver.find_element_by_id(&quot;kw&quot;).send_keys(Keys.CONTROL,&#39;a&#39;)</span><br><span class="line"></span><br><span class="line"># ctrl+x 剪切输入框内容</span><br><span class="line">driver.find_element_by_id(&quot;kw&quot;).send_keys(Keys.CONTROL,&#39;x&#39;)</span><br><span class="line"></span><br><span class="line"># 输入框重新输入内容</span><br><span class="line">driver.find_element_by_id(&quot;kw&quot;).send_keys(&quot;python爬虫&quot;)</span><br><span class="line"></span><br><span class="line"># 模拟Enter回车键</span><br><span class="line">driver.find_element_by_id(&quot;su&quot;).send_keys(Keys.RETURN)</span><br><span class="line"></span><br><span class="line"># 清除输入框内容</span><br><span class="line">driver.find_element_by_id(&quot;kw&quot;).clear()</span><br><span class="line"></span><br><span class="line"># 生成新的页面快照</span><br><span class="line">driver.save_screenshot(&quot;python爬虫.png&quot;)</span><br><span class="line"></span><br><span class="line"># 获取当前url</span><br><span class="line">print(driver.current_url)</span><br><span class="line"></span><br><span class="line"># 关闭当前页面，如果只有一个页面，会关闭浏览器</span><br><span class="line"># driver.close()</span><br><span class="line"></span><br><span class="line"># 关闭浏览器</span><br><span class="line">driver.quit()</span><br></pre></td></tr></table></figure>

<h3 id="4-页面操作"><a href="#4-页面操作" class="headerlink" title="4 页面操作"></a>4 页面操作</h3><h4 id="4-1-页面交互"><a href="#4-1-页面交互" class="headerlink" title="4.1 页面交互"></a>4.1 页面交互</h4><blockquote>
<p>仅仅抓取页面没有多大卵用，我们真正要做的是做到和页面交互，比如点击，输入等等。那么前提就是要找到页面中的元素。WebDriver提供了各种方法来寻找元素。例如下面有一个表单输入框</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;input type&#x3D;&quot;text&quot; name&#x3D;&quot;passwd&quot; id&#x3D;&quot;passwd-id&quot; &#x2F;&gt;</span><br></pre></td></tr></table></figure>
<h5 id="4-1-1-获取"><a href="#4-1-1-获取" class="headerlink" title="4.1.1 获取"></a>4.1.1 <strong>获取</strong></h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">element &#x3D; driver.find_element_by_id(&quot;passwd-id&quot;)</span><br><span class="line">element &#x3D; driver.find_element_by_name(&quot;passwd&quot;)</span><br><span class="line">element &#x3D; driver.find_elements_by_tag_name(&quot;input&quot;)</span><br><span class="line">element &#x3D; driver.find_element_by_xpath(&quot;&#x2F;&#x2F;input[@id&#x3D;&#39;passwd-id&#39;]&quot;)</span><br></pre></td></tr></table></figure>
<p><strong>注意：</strong></p>
<ul>
<li><p>文本必须完全匹配才可以，所以这并不是一个很好的匹配方式</p>
</li>
<li><p>在用 xpath 的时候还需要注意的如果有多个元素匹配了 xpath，它只会返回第一个匹配的元素。如果没有找到，那么会抛出 NoSuchElementException 的异常</p>
</li>
</ul>
<h5 id="4-1-2-输入内容"><a href="#4-1-2-输入内容" class="headerlink" title="4.1.2 输入内容"></a>4.1.2 输入内容</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">element.send_keys(&quot;some text&quot;)</span><br></pre></td></tr></table></figure>
<h5 id="4-1-3-模拟点击某个按键"><a href="#4-1-3-模拟点击某个按键" class="headerlink" title="4.1.3 模拟点击某个按键"></a>4.1.3 模拟点击某个按键</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">element.send_keys(&quot;and some&quot;, Keys.ARROW_DOWN)</span><br></pre></td></tr></table></figure>
<h5 id="4-1-4-清空文本"><a href="#4-1-4-清空文本" class="headerlink" title="4.1.4 清空文本"></a>4.1.4 清空文本</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">element.clear()</span><br></pre></td></tr></table></figure>

<h5 id="4-1-5-元素拖拽"><a href="#4-1-5-元素拖拽" class="headerlink" title="4.1.5 元素拖拽"></a>4.1.5 元素拖拽</h5><blockquote>
<p>要完成元素的拖拽，首先你需要指定被拖动的元素和拖动目标元素，然后利用 ActionChains 类来实现</p>
</blockquote>
<p>以下实现元素从 source 拖动到 target 的操作</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">element &#x3D; driver.find_element_by_name(&quot;source&quot;)</span><br><span class="line">target &#x3D; driver.find_element_by_name(&quot;target&quot;)</span><br><span class="line"> </span><br><span class="line">from selenium.webdriver import ActionChains</span><br><span class="line">action_chains &#x3D; ActionChains(driver)</span><br><span class="line">action_chains.drag_and_drop(element, target).perform()</span><br></pre></td></tr></table></figure>
<h5 id="4-1-6-历史记录"><a href="#4-1-6-历史记录" class="headerlink" title="4.1.6 历史记录"></a>4.1.6 历史记录</h5><blockquote>
<p>操作页面的前进和后退功能</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">driver.forward()</span><br><span class="line">driver.back()</span><br></pre></td></tr></table></figure>

<h3 id="5-API"><a href="#5-API" class="headerlink" title="5 API"></a>5 API</h3><h4 id="5-1-元素选取"><a href="#5-1-元素选取" class="headerlink" title="5.1 元素选取"></a>5.1 元素选取</h4><h5 id="5-1-1-单个元素选取"><a href="#5-1-1-单个元素选取" class="headerlink" title="5.1.1 单个元素选取"></a>5.1.1 单个元素选取</h5><ul>
<li>find_element_by_id</li>
<li>find_element_by_name</li>
<li>find_element_by_xpath</li>
<li>find_element_by_link_text</li>
<li>find_element_by_partial_link_text</li>
<li>find_element_by_tag_name</li>
<li>find_element_by_class_name</li>
<li>find_element_by_css_selector</li>
</ul>
<h5 id="5-1-2-多个元素选取"><a href="#5-1-2-多个元素选取" class="headerlink" title="5.1.2 多个元素选取"></a>5.1.2 多个元素选取</h5><ul>
<li>find_elements_by_name</li>
<li>find_elements_by_xpath</li>
<li>find_elements_by_link_text</li>
<li>find_elements_by_partial_link_text</li>
<li>find_elements_by_tag_name</li>
<li>find_elements_by_class_name</li>
<li>find_elements_by_css_selector</li>
</ul>
<h5 id="5-1-3-利用-By-类来确定哪种选择方式"><a href="#5-1-3-利用-By-类来确定哪种选择方式" class="headerlink" title="5.1.3 利用 By 类来确定哪种选择方式"></a>5.1.3 利用 By 类来确定哪种选择方式</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">from selenium.webdriver.common.by import By</span><br><span class="line"> </span><br><span class="line">driver.find_element(By.XPATH, &#39;&#x2F;&#x2F;button[text()&#x3D;&quot;Some text&quot;]&#39;)</span><br><span class="line">driver.find_elements(By.XPATH, &#39;&#x2F;&#x2F;button&#39;)</span><br></pre></td></tr></table></figure>
<p>By 类的一些属性如下</p>
<ul>
<li>ID = “id”</li>
<li>XPATH = “xpath”</li>
<li>LINK_TEXT = “link text”</li>
<li>PARTIAL_LINK_TEXT = “partial link text”</li>
<li>NAME = “name”</li>
<li>TAG_NAME = “tag name”</li>
<li>CLASS_NAME = “class name”</li>
<li>CSS_SELECTOR = “css selector”</li>
</ul>
<h3 id="6-等待"><a href="#6-等待" class="headerlink" title="6 等待"></a>6 等待</h3><h4 id="6-1-隐式等待"><a href="#6-1-隐式等待" class="headerlink" title="6.1 隐式等待"></a>6.1 隐式等待</h4><blockquote>
<p>到了一定的时间发现元素还没有加载，则继续等待我们指定的时间，如果超过了我们指定的时间还没有加载就会抛出异常，如果没有需要等待的时候就已经加载完毕就会立即执行</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">from selenium import webdriver</span><br><span class="line">url &#x3D; &#39;https:&#x2F;&#x2F;www.guazi.com&#x2F;nj&#x2F;buy&#x2F;&#39;</span><br><span class="line">driver &#x3D; webdriver.Chrome()</span><br><span class="line">driver.get(url)</span><br><span class="line">driver.implicitly_wait(100)</span><br><span class="line">print(driver.find_element_by_class_name(&#39;next&#39;))</span><br><span class="line">print(driver.page_source)</span><br></pre></td></tr></table></figure>

<h4 id="6-2-显示等待"><a href="#6-2-显示等待" class="headerlink" title="6.2 显示等待"></a>6.2 显示等待</h4><blockquote>
<p>指定一个等待条件，并且指定一个最长等待时间，会在这个时间内进行判断是否满足等待条件，如果成立就会立即返回，如果不成立，就会一直等待，直到等待你指定的最长等待时间，如果还是不满足，就会抛出异常，如果满足了就会正常返回</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">url &#x3D; &#39;https:&#x2F;&#x2F;www.guazi.com&#x2F;nj&#x2F;buy&#x2F;&#39;</span><br><span class="line">driver &#x3D; webdriver.Chrome()</span><br><span class="line">driver.get(url)</span><br><span class="line">wait &#x3D; WebDriverWait(driver,10)</span><br><span class="line">wait.until(EC.presence_of_element_located((By.CLASS_NAME, &#39;next&#39;)))</span><br><span class="line">print(driver.page_source)</span><br></pre></td></tr></table></figure>

<ul>
<li>presence_of_element_located   <ul>
<li>元素加载出，传入定位元组，如(By.ID, ‘p’)</li>
</ul>
</li>
<li>presence_of_all_elements_located <ul>
<li>所有元素加载出</li>
</ul>
</li>
<li>element_to_be_clickable<ul>
<li>元素可点击</li>
</ul>
</li>
<li>element_located_to_be_selected<ul>
<li>元素可选择，传入定位元组 <h4 id="6-3-强制等待"><a href="#6-3-强制等待" class="headerlink" title="6.3 强制等待"></a>6.3 强制等待</h4><blockquote>
<p>使用 time.sleep</p>
</blockquote>
</li>
</ul>
</li>
</ul>

            <!--[if lt IE 9]><script>document.createElement('audio');</script><![endif]-->
            <audio id="audio" loop="1" preload="auto" controls="controls" data-autoplay="false">
                <source type="audio/mpeg" src="">
            </audio>
            
                <ul id="audio-list" style="display:none">
                    
                        
                            <li title='0' data-url='http://link.hhtjim.com/163/425570952.mp3'></li>
                        
                    
                        
                            <li title='1' data-url='http://link.hhtjim.com/163/425570952.mp3'></li>
                        
                    
                </ul>
            
        </div>
        
    <div id='gitalk-container' class="comment link"
		data-enable='true'
        data-ae='false'
        data-ci=''
        data-cs=''
        data-r=''
        data-o=''
        data-a=''
        data-d='false'
    >查看评论</div>


    </div>
    
        <div class='side'>
			<ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-Selenium"><span class="toc-number">1.</span> <span class="toc-text">1. Selenium</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-PhantomJS"><span class="toc-number">2.</span> <span class="toc-text">2. PhantomJS</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-1注意：PhantomJS（python2）"><span class="toc-number">2.1.</span> <span class="toc-text">2.1注意：PhantomJS（python2）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-python3使用的浏览器"><span class="toc-number">2.2.</span> <span class="toc-text">2.2 python3使用的浏览器</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#2-1-1-安装Firefox-geckodriver"><span class="toc-number">2.2.1.</span> <span class="toc-text">2.1.1 安装Firefox geckodriver</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2-1-2-安装ChromeDriver"><span class="toc-number">2.2.2.</span> <span class="toc-text">2.1.2 安装ChromeDriver</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-使用方式"><span class="toc-number">3.</span> <span class="toc-text">3. 使用方式</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#3-1-简单例子"><span class="toc-number">3.1.</span> <span class="toc-text">3.1 简单例子</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-页面操作"><span class="toc-number">4.</span> <span class="toc-text">4 页面操作</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#4-1-页面交互"><span class="toc-number">4.1.</span> <span class="toc-text">4.1 页面交互</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#4-1-1-获取"><span class="toc-number">4.1.1.</span> <span class="toc-text">4.1.1 获取</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#4-1-2-输入内容"><span class="toc-number">4.1.2.</span> <span class="toc-text">4.1.2 输入内容</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#4-1-3-模拟点击某个按键"><span class="toc-number">4.1.3.</span> <span class="toc-text">4.1.3 模拟点击某个按键</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#4-1-4-清空文本"><span class="toc-number">4.1.4.</span> <span class="toc-text">4.1.4 清空文本</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#4-1-5-元素拖拽"><span class="toc-number">4.1.5.</span> <span class="toc-text">4.1.5 元素拖拽</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#4-1-6-历史记录"><span class="toc-number">4.1.6.</span> <span class="toc-text">4.1.6 历史记录</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-API"><span class="toc-number">5.</span> <span class="toc-text">5 API</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#5-1-元素选取"><span class="toc-number">5.1.</span> <span class="toc-text">5.1 元素选取</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#5-1-1-单个元素选取"><span class="toc-number">5.1.1.</span> <span class="toc-text">5.1.1 单个元素选取</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#5-1-2-多个元素选取"><span class="toc-number">5.1.2.</span> <span class="toc-text">5.1.2 多个元素选取</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#5-1-3-利用-By-类来确定哪种选择方式"><span class="toc-number">5.1.3.</span> <span class="toc-text">5.1.3 利用 By 类来确定哪种选择方式</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-等待"><span class="toc-number">6.</span> <span class="toc-text">6 等待</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#6-1-隐式等待"><span class="toc-number">6.1.</span> <span class="toc-text">6.1 隐式等待</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-2-显示等待"><span class="toc-number">6.2.</span> <span class="toc-text">6.2 显示等待</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-3-强制等待"><span class="toc-number">6.3.</span> <span class="toc-text">6.3 强制等待</span></a></li></ol></li></ol>	
        </div>
    
</div>


    </div>
</div>
</body>

<script src="//cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js"></script>


<script src="//lib.baomitu.com/jquery/1.8.3/jquery.min.js"></script>
<script src="/js/plugin.js"></script>
<script src="/js/typed.js"></script>
<script src="/js/diaspora.js"></script>


<link rel="stylesheet" href="/photoswipe/photoswipe.css">
<link rel="stylesheet" href="/photoswipe/default-skin/default-skin.css">


<script src="/photoswipe/photoswipe.min.js"></script>
<script src="/photoswipe/photoswipe-ui-default.min.js"></script>


<!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">
    <!-- Background of PhotoSwipe. 
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>
    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">
        <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>
        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">
            <div class="pswp__top-bar">
                <!--  Controls are self-explanatory. Order can be changed. -->
                <div class="pswp__counter"></div>
                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
                <button class="pswp__button pswp__button--share" title="Share"></button>
                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
                <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                      <div class="pswp__preloader__cut">
                        <div class="pswp__preloader__donut"></div>
                      </div>
                    </div>
                </div>
            </div>
            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div> 
            </div>
            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>
            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>
            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>
        </div>
    </div>
</div>






</html>
